<ion-header>
  <ion-navbar>
    <ion-title>{{pageTitle}}</ion-title>
    <ion-buttons end>
      <button ion-button (click)="save(recipe)">Save</button>
      <button ion-button (click)="deleteCurrent(recipe)">Delete</button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-label color="primary"> Edit Recipe Name</ion-label>
  <ion-input
    type="text"
    [value]="recipe.name"
    (input)="recipe.name = $event.target.value"
  >
  </ion-input>
  <ion-item-divider color="light">Recipe Ingredients list</ion-item-divider>

  <ion-list *ngFor="let ingredient of recipe.ingredients; let i=index">
    <ion-list-header>
      <ion-label>
        Ingredient {{i+1}}
        <ion-badge color="primary">
          {{ingredient.amount}} ml
        </ion-badge>
      </ion-label>
      <button ion-button item-right small (click)="removeIngredient(i)">Delete</button>
    </ion-list-header>
    <ion-item>
      <ion-label style="display:none;">
        Ingredient {{i+1}}
      </ion-label>
      <ion-select [(ngModel)]="ingredient.id">
        <ion-option *ngFor="let option of recipesData.ingredients" value="{{option.id}}">
          {{recipesData.findIngredientById(option.id).name}}
        </ion-option>
      </ion-select>
      <ion-range [(ngModel)]="ingredient.amount" min="20" max="120" step="20" snaps="true" pin="true" color="primary">
        <ion-icon range-left small name="ios-water"></ion-icon>
        <ion-icon range-right name="ios-water"></ion-icon>
      </ion-range>
    </ion-item>
  </ion-list>
  <ion-fab right bottom>
    <button ion-fab (click)="addIngredient()"><ion-icon name="add"></ion-icon></button>
  </ion-fab>
</ion-content>
